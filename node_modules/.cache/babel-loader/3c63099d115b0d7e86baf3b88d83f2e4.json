{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, nextTick, bindModuleMethods } from '../../utils/utils';\nvar Scrollbar = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate,\n        progress = swiper.progress;\n    var dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    var params = swiper.params.scrollbar;\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(\"translate3d(\" + newPos + \"px, 0, 0)\");\n      $dragEl[0].style.width = newSize + \"px\";\n    } else {\n      $dragEl.transform(\"translate3d(0px, \" + newPos + \"px, 0)\");\n      $dragEl[0].style.height = newSize + \"px\";\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(function () {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize: function updateSize() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar;\n    var $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    var divider = swiper.size / swiper.virtualSize;\n    var moveDivider = divider * (trackSize / swiper.size);\n    var dragSize;\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = dragSize + \"px\";\n    } else {\n      $dragEl[0].style.height = dragSize + \"px\";\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    extend(scrollbar, {\n      trackSize: trackSize,\n      divider: divider,\n      moveDivider: moveDivider,\n      dragSize: dragSize\n    });\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  getPointerPosition: function getPointerPosition(e) {\n    var swiper = this;\n\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  },\n  setDragPosition: function setDragPosition(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var $el = scrollbar.$el,\n        dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        dragStartPos = scrollbar.dragStartPos;\n    var positionRatio;\n    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart: function onDragStart(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    swiper.scrollbar.isTouched = true;\n    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n    clearTimeout(swiper.scrollbar.dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove: function onDragMove(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd: function onDragEnd(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = nextTick(function () {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    swiper.emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  },\n  enableDraggable: function enableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  disableDraggable: function disableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        $swiperEl = swiper.$el;\n    var params = swiper.params.scrollbar;\n    var $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    var $dragEl = $el.find(\".\" + swiper.params.scrollbar.dragClass);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(\"<div class=\\\"\" + swiper.params.scrollbar.dragClass + \"\\\"></div>\");\n      $el.append($dragEl);\n    }\n\n    extend(scrollbar, {\n      $el: $el,\n      el: $el[0],\n      $dragEl: $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.scrollbar.disableDraggable();\n  }\n};\nexport default {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      scrollbar: _extends({\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null\n      }, Scrollbar)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update: function update(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    resize: function resize(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate: function setTranslate(swiper) {\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      swiper.scrollbar.setTransition(duration);\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.scrollbar.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.scrollbar.destroy();\n    }\n  }\n};","map":{"version":3,"sources":["E:/CS/javascript/reactjs/airbnb-clone/node_modules/swiper/esm/components/scrollbar/scrollbar.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","getDocument","$","extend","nextTick","bindModuleMethods","Scrollbar","setTranslate","swiper","params","scrollbar","el","rtl","rtlTranslate","progress","dragSize","trackSize","$dragEl","$el","newSize","newPos","isHorizontal","transform","style","width","height","hide","clearTimeout","timeout","opacity","setTimeout","transition","setTransition","duration","updateSize","offsetWidth","offsetHeight","divider","size","virtualSize","moveDivider","parseInt","display","watchOverflow","enabled","isLocked","lockClass","getPointerPosition","e","type","targetTouches","clientX","clientY","setDragPosition","dragStartPos","positionRatio","offset","Math","max","min","position","minTranslate","maxTranslate","updateProgress","updateActiveIndex","updateSlidesClasses","onDragStart","$wrapperEl","isTouched","getBoundingClientRect","preventDefault","stopPropagation","dragTimeout","css","cssMode","emit","onDragMove","returnValue","onDragEnd","snapOnRelease","slideToClosest","enableDraggable","document","touchEventsTouch","touchEventsDesktop","support","activeListener","passiveListener","passiveListeners","passive","capture","touch","addEventListener","start","move","end","disableDraggable","removeEventListener","init","$swiperEl","uniqueNavElements","find","dragClass","append","dragEl","draggable","destroy","name","create","on","update","resize","observerUpdate","enableDisable"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, nextTick, bindModuleMethods } from '../../utils/utils';\nvar Scrollbar = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate,\n        progress = swiper.progress;\n    var dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    var params = swiper.params.scrollbar;\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(\"translate3d(\" + newPos + \"px, 0, 0)\");\n      $dragEl[0].style.width = newSize + \"px\";\n    } else {\n      $dragEl.transform(\"translate3d(0px, \" + newPos + \"px, 0)\");\n      $dragEl[0].style.height = newSize + \"px\";\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(function () {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize: function updateSize() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar;\n    var $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    var divider = swiper.size / swiper.virtualSize;\n    var moveDivider = divider * (trackSize / swiper.size);\n    var dragSize;\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = dragSize + \"px\";\n    } else {\n      $dragEl[0].style.height = dragSize + \"px\";\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    extend(scrollbar, {\n      trackSize: trackSize,\n      divider: divider,\n      moveDivider: moveDivider,\n      dragSize: dragSize\n    });\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  getPointerPosition: function getPointerPosition(e) {\n    var swiper = this;\n\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  },\n  setDragPosition: function setDragPosition(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var $el = scrollbar.$el,\n        dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        dragStartPos = scrollbar.dragStartPos;\n    var positionRatio;\n    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart: function onDragStart(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    swiper.scrollbar.isTouched = true;\n    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n    clearTimeout(swiper.scrollbar.dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove: function onDragMove(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd: function onDragEnd(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = nextTick(function () {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    swiper.emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  },\n  enableDraggable: function enableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  disableDraggable: function disableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        $swiperEl = swiper.$el;\n    var params = swiper.params.scrollbar;\n    var $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    var $dragEl = $el.find(\".\" + swiper.params.scrollbar.dragClass);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(\"<div class=\\\"\" + swiper.params.scrollbar.dragClass + \"\\\"></div>\");\n      $el.append($dragEl);\n    }\n\n    extend(scrollbar, {\n      $el: $el,\n      el: $el[0],\n      $dragEl: $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.scrollbar.disableDraggable();\n  }\n};\nexport default {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      scrollbar: _extends({\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null\n      }, Scrollbar)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update: function update(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    resize: function resize(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate: function setTranslate(swiper) {\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      swiper.scrollbar.setTransition(duration);\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.scrollbar.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.scrollbar.destroy();\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}